{"ast":null,"code":"'use strict';\n\nvar inherits = require('inherits'),\n    IframeTransport = require(\"../iframe\"),\n    objectUtils = require(\"../../utils/object\");\n\nmodule.exports = function (transport) {\n  function IframeWrapTransport(transUrl, baseUrl) {\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\n  }\n\n  inherits(IframeWrapTransport, IframeTransport);\n\n  IframeWrapTransport.enabled = function (url, info) {\n    if (!global.document) {\n      return false;\n    }\n\n    var iframeInfo = objectUtils.extend({}, info);\n    iframeInfo.sameOrigin = true;\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\n  };\n\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\n  IframeWrapTransport.needBody = true;\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1;\n  IframeWrapTransport.facadeTransport = transport;\n  return IframeWrapTransport;\n};","map":{"version":3,"sources":["/usr/local/lib/node_modules/expo-cli/node_modules/sockjs-client/lib/transport/lib/iframe-wrap.js"],"names":["inherits","require","IframeTransport","objectUtils","module","exports","transport","IframeWrapTransport","transUrl","baseUrl","call","transportName","enabled","url","info","global","document","iframeInfo","extend","sameOrigin","needBody","roundTrips","facadeTransport"],"mappings":"AAAA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;AAAA,IACIC,eAAe,GAAGD,OAAO,aAD7B;AAAA,IAEIE,WAAW,GAAGF,OAAO,sBAFzB;;AAKAG,MAAM,CAACC,OAAP,GAAiB,UAASC,SAAT,EAAoB;AAEnC,WAASC,mBAAT,CAA6BC,QAA7B,EAAuCC,OAAvC,EAAgD;AAC9CP,IAAAA,eAAe,CAACQ,IAAhB,CAAqB,IAArB,EAA2BJ,SAAS,CAACK,aAArC,EAAoDH,QAApD,EAA8DC,OAA9D;AACD;;AAEDT,EAAAA,QAAQ,CAACO,mBAAD,EAAsBL,eAAtB,CAAR;;AAEAK,EAAAA,mBAAmB,CAACK,OAApB,GAA8B,UAASC,GAAT,EAAcC,IAAd,EAAoB;AAChD,QAAI,CAACC,MAAM,CAACC,QAAZ,EAAsB;AACpB,aAAO,KAAP;AACD;;AAED,QAAIC,UAAU,GAAGd,WAAW,CAACe,MAAZ,CAAmB,EAAnB,EAAuBJ,IAAvB,CAAjB;AACAG,IAAAA,UAAU,CAACE,UAAX,GAAwB,IAAxB;AACA,WAAOb,SAAS,CAACM,OAAV,CAAkBK,UAAlB,KAAiCf,eAAe,CAACU,OAAhB,EAAxC;AACD,GARD;;AAUAL,EAAAA,mBAAmB,CAACI,aAApB,GAAoC,YAAYL,SAAS,CAACK,aAA1D;AACAJ,EAAAA,mBAAmB,CAACa,QAApB,GAA+B,IAA/B;AACAb,EAAAA,mBAAmB,CAACc,UAApB,GAAiCnB,eAAe,CAACmB,UAAhB,GAA6Bf,SAAS,CAACe,UAAvC,GAAoD,CAArF;AAEAd,EAAAA,mBAAmB,CAACe,eAApB,GAAsChB,SAAtC;AAEA,SAAOC,mBAAP;AACD,CAzBD","sourcesContent":["'use strict';\n\nvar inherits = require('inherits')\n  , IframeTransport = require('../iframe')\n  , objectUtils = require('../../utils/object')\n  ;\n\nmodule.exports = function(transport) {\n\n  function IframeWrapTransport(transUrl, baseUrl) {\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\n  }\n\n  inherits(IframeWrapTransport, IframeTransport);\n\n  IframeWrapTransport.enabled = function(url, info) {\n    if (!global.document) {\n      return false;\n    }\n\n    var iframeInfo = objectUtils.extend({}, info);\n    iframeInfo.sameOrigin = true;\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\n  };\n\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\n  IframeWrapTransport.needBody = true;\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)\n\n  IframeWrapTransport.facadeTransport = transport;\n\n  return IframeWrapTransport;\n};\n"]},"metadata":{},"sourceType":"script"}